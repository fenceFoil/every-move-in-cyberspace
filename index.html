<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="black" />
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="98.css" />
    <title>Every Move in Cyberspace</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital@0;1&family=Public+Sans&display=swap');

        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        @font-face {
            font-family: "VCR";
            src: url("media/VCR_OSD_MONO_1.001.ttf") format("truetype");
        }

        /* alpinejs */
        [x-cloak] { display: none !important; }

        body {
            height: 100%;
            overflow: hidden;

            --columnBottom: 5dvh;
            --columnTop: 5dvh;

            --columnScale: 1;
            --columnHueIntensity: 0.5;
        }
        
        #app {
            background: linear-gradient(cyan, black 40%, black);
            background-size: cover;
            color: hotpink;
            display: grid;
            place-items: center;
            height: calc(100dvh);
            padding: 1em;
            font-family: 'Merriweather', serif;
            font-size:3em;
            z-index: 5;
        }

        .majestic-column {
            background-size: cover;
            background-repeat: no-repeat;
            background-image: url(media/stone-column.png);        
            z-index: 10;
            position: absolute;
            left: 5dvw;
            transform: scaleY(var(--columnScale));
            transform-origin: center bottom;
            /*top: var(--columnTop);
            bottom: var(--columnBottom);*/
            top: 5dvh;
            bottom: 5dvh;
            width: 10dvw;
            filter: contrast(1.2);
            transition: transform 100ms linear;
        }

        .majestic-column-right {
            right: 5dvw;
            left: 85dvw;
        }

        .majestic-column::after {
            position: absolute;
            top: 0; bottom: 0; left: 0; right: 0;
            content: " ";
            opacity: 0.8;
            filter: hue-rotate(var(--columnHue));
            transition: filter 100ms linear;
            transition: opacity 100ms linear;
            opacity: var(--columnHueIntensity);
            mix-blend-mode: multiply;
            background-image: url(media/stone-column-shadow.png);
            background-size: cover;
            background-repeat: no-repeat;
        }

        .cyberspaceBG {
            transform: scale3d(1, 1, 1) rotateX(54deg) rotateY(0deg) rotateZ(0deg) translate3d(0px, 0px, -100px) skew(0deg, 0deg);
            background-image: url(media/pinkgrid.png);
            background-size: cover;
            background-repeat: no-repeat;
            height: 100vh;
            width: 100vw;
        }
        .cyberspaceBG-wrap {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            perspective: 30dvh;
            perspective-origin: 50% 50%;
            z-index: 3;
        }

        #gametitle {
            /*font-family: "Press Start 2P";*/
            font-family: "VCR";
            position: absolute;
            top: 2dvh;
            font-size: 1.5em;
            /*filter: blur(2px);*/
            font-style: italic;
        }

        #score {
            /*font-family: "Press Start 2P";*/
            font-family: "VCR";
            position: absolute;
            text-align: center;
            color: cyan;
            top: 76dvh;
            font-size: 4em;
            filter: blur(2px);
            z-index: 100;
            text-shadow: -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 4px 4px 0 #000;   
        }

        #slab {
            position: absolute;
            top: 10dvh;
            background: url(media/pexels-madison-inouye-1101122.jpg);
            background-size: cover;
            background-position: center;
            z-index: 10;
            width: 50dvw;
            aspect-ratio: 16/9;
        }

        #slab .title-bar {
        }

        #playerHead {
            background-image: url(media/bust-small.png);
            --sphere-width: 8dvw;
        }

        .playerLandmark {
            background-position: center;
            background-size: contain;
            background-repeat: no-repeat;

            position: absolute;
            width: var(--sphere-width);
            aspect-ratio: 1;
            --sphere-y: 0;
            --sphere-x: 0.75;
            --sphere-hue: 0deg;
            top: calc((100% - var(--sphere-width)) * var(--sphere-y));
            left: calc((100% - var(--sphere-width)) * var(--sphere-x));
            filter: hue-rotate(var(--sphere-hue));
            --sphere-width: 3dvw;
        }

        #songPositionBar {
            font-family: "Press Start 2P";
            position: absolute;
            left: 0;
            right: 0;
            bottom: 8%;
            font-size: 3em;
            color: lime;
            text-align: center;   
            text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;   
        }

        #ghostHead {
            background-image: url(media/jackson.jpg);
            border-radius: 30%;
            --sphere-width: 8dvw;

            --sphere-x: 0.2;
            --sphere-y: 0.6;
        }

        .sphereLandmark {
            background-image: url(media/amigaBoingBall.png);
        }

        #slabAttract {
            height: 100%;
            display: grid;
            place-items: center;
        }
        #startGameButton {
            transform: scale(8);
        }

    </style>

    <script>

    </script>
</head>

<body>
    <script src="//unpkg.com/alpinejs" defer></script>
    <script src="chance.min.js"></script>
    <div id="app" x-data="d" :style="getBodyStyles()">
        <div id="gametitle">
            Don't Copy The Moves Dude
        </div>
        <div id="score">878</div>
        <div id="slab" class="window">
            <div class="title-bar">
                <div class="title-bar-text">The Moves</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize"></button>
                    <button aria-label="Maximize"></button>
                    <button aria-label="Close"></button>
                  </div>
            </div>
            <div id="slabAttract" x-show="!getIngame()">
                <button @click="startGame" id="startGameButton">Start Game</button>
            </div>
            <div id="slabIngame" x-show="getIngame()">
                <div id="playerHead" class="playerLandmark"></div>
                <div class="playerLandmark sphereLandmark" style="--sphere-x: 0.6;--sphere-y:0.8"></div>
                <div id="ghostHead" class="playerLandmark"></div>
                <div id="songPositionBar">||---------</div>
            </div>
        </div>
        <div class="majestic-column"></div>
        <div class="majestic-column majestic-column-right"></div>
        <div id="musicSeekBar">asdf</div>
        <div class="cyberspaceBG-wrap">
            <div class="cyberspaceBG"> </div>
        </div>
    </div>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('d', () => (Object.assign({
                styles: {'--columnBottom':'5dvh', '--columnTop':'5dvh'},
                columnHeight: 0.5,
                ingame: true,

                getIngame() {
                    return this.ingame;
                },

                startGame() {
                    this.ingame = true;
                },

                getBodyStyles() {
                    // Map columnHeight to display values
                    return {
                        '--columnScale': (0.67*this.columnHeight + 0.33),
                        //'--columnHue': ((1-this.columnHeight)*100) + "deg",
                        '--columnHue': '0deg',
                        '--columnHueIntensity': 1-((this.columnHeight-0.5)*2)
                    }
                },

                async init() {

                    setInterval(() => {
                        this.columnHeight = Math.random()
                    }, 200);
                },

            }, {})))
        });
    </script>
</body>

</html>
